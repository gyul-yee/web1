<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>Kakao 지도 시작하기</title>
	<style>
        body
        {
            margin: 0;
        }
    </style>
</head>
<body>
	<div id="map" style="width:400px;height:700px;"></div>
    <script type = "text/javascript" src="apikey.js"></script>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=19cf6167eee61c2847800c9ab316a5ec"></script>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=APIKEY&libraries=clusterer"></script>
	<script src="https://kit.fontawesome.com/e644c07ff1.js" crossorigin="anonymous"></script>
	<button  id ="currntLoc" style="background-color: #ffffff;position: absolute; top: 5px; left: 5px; z-index: 100; border-width: 0px; border-radius: 5px; box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25); height: 26px; width: 26px;">
		<i class="fa-solid fa-location-crosshairs fa-lg" style="position: absolute; top: 8px; left: 8px"></i>
	</button>
	<script>
		var latitude=37.5666805;
		var longitude=126.9784147;

		function success({coords}){
			latitude = coords.latitude;
			longitude = coords.longitude;
		}
			
		function getUserLocation() {
			if (!navigator.geolocation) {
				throw "위치 정보가 지원되지 않습니다."
			}
			navigator.geolocation.getCurrentPosition(success);
		}

		getUserLocation();

		document.getElementById("currntLoc").addEventListener("click", getCurrunt);
		
		function getCurrunt() {
			getUserLocation();
			var moveLatLon = new kakao.maps.LatLng(latitude, longitude);
			map.panTo(moveLatLon)
		}

		var container = document.getElementById('map');
		var options = {
			center: new kakao.maps.LatLng(latitude, longitude),
			level: 3
		};

		var map = new kakao.maps.Map(container, options);
		var markerContent = '<div style="background-color: #ffffff; border-radius: 7px; box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25); padding: 0px 8px 2px 8px;">'+
                        	'	<span style="color:black; font-size: 11px">1,000</span>'+
                    		'</div>';
		var marker = new kakao.maps.CustomOverlay({
			content: markerContent,
			map: map,
			position: new kakao.maps.LatLng(37.40175, 126.922667)
		});
		
	</script>
	
</body>
</html>
